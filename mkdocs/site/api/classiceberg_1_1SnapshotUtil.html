<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iceberg-cpp: iceberg::SnapshotUtil Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iceberg-cpp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>iceberg</b></li><li class="navelem"><a class="el" href="classiceberg_1_1SnapshotUtil.html">SnapshotUtil</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classiceberg_1_1SnapshotUtil-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">iceberg::SnapshotUtil Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Utility functions for working with snapshots.  
 <a href="classiceberg_1_1SnapshotUtil.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="snapshot__util__internal_8h_source.html">snapshot_util_internal.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a47a80cda09e68bab18d4e82f26da06e6" id="r_a47a80cda09e68bab18d4e82f26da06e6"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a47a80cda09e68bab18d4e82f26da06e6">AncestorsOf</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id)</td></tr>
<tr class="memdesc:a47a80cda09e68bab18d4e82f26da06e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of ancestors of the given snapshot.  <br /></td></tr>
<tr class="separator:a47a80cda09e68bab18d4e82f26da06e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e5364b6109d40089fcec830b90d270" id="r_ac6e5364b6109d40089fcec830b90d270"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#ac6e5364b6109d40089fcec830b90d270">AncestorsOf</a> (int64_t snapshot_id, const std::function&lt; Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;(int64_t)&gt; &amp;lookup)</td></tr>
<tr class="memdesc:ac6e5364b6109d40089fcec830b90d270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of ancestors of the given snapshot.  <br /></td></tr>
<tr class="separator:ac6e5364b6109d40089fcec830b90d270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3da0853e68da0249df527b8ccd5ca97" id="r_ae3da0853e68da0249df527b8ccd5ca97"><td class="memItemLeft" align="right" valign="top">static Result&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#ae3da0853e68da0249df527b8ccd5ca97">IsAncestorOf</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id, int64_t ancestor_snapshot_id)</td></tr>
<tr class="memdesc:ae3da0853e68da0249df527b8ccd5ca97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether ancestor_snapshot_id is an ancestor of snapshot_id.  <br /></td></tr>
<tr class="separator:ae3da0853e68da0249df527b8ccd5ca97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82eb77fad1c18d03682a059fad5f595d" id="r_a82eb77fad1c18d03682a059fad5f595d"><td class="memItemLeft" align="right" valign="top">static Result&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a82eb77fad1c18d03682a059fad5f595d">IsAncestorOf</a> (int64_t snapshot_id, int64_t ancestor_snapshot_id, const std::function&lt; Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;(int64_t)&gt; &amp;lookup)</td></tr>
<tr class="memdesc:a82eb77fad1c18d03682a059fad5f595d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether ancestor_snapshot_id is an ancestor of snapshot_id using the given lookup function.  <br /></td></tr>
<tr class="separator:a82eb77fad1c18d03682a059fad5f595d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e84754b2696638864856fef240dabf" id="r_ab2e84754b2696638864856fef240dabf"><td class="memItemLeft" align="right" valign="top">static Result&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#ab2e84754b2696638864856fef240dabf">IsAncestorOf</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t ancestor_snapshot_id)</td></tr>
<tr class="memdesc:ab2e84754b2696638864856fef240dabf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether ancestor_snapshot_id is an ancestor of the table's current state.  <br /></td></tr>
<tr class="separator:ab2e84754b2696638864856fef240dabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b5e0916dd5156dd6db8048b6be968c" id="r_a42b5e0916dd5156dd6db8048b6be968c"><td class="memItemLeft" align="right" valign="top">static Result&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a42b5e0916dd5156dd6db8048b6be968c">IsAncestorOf</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata, int64_t ancestor_snapshot_id)</td></tr>
<tr class="memdesc:a42b5e0916dd5156dd6db8048b6be968c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether ancestor_snapshot_id is an ancestor of the metadata's current state.  <br /></td></tr>
<tr class="separator:a42b5e0916dd5156dd6db8048b6be968c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4a09b5d021e344153b01e297c588c4" id="r_a0e4a09b5d021e344153b01e297c588c4"><td class="memItemLeft" align="right" valign="top">static Result&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a0e4a09b5d021e344153b01e297c588c4">IsParentAncestorOf</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id, int64_t ancestor_parent_snapshot_id)</td></tr>
<tr class="memdesc:a0e4a09b5d021e344153b01e297c588c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether some ancestor of snapshot_id has parentId matches ancestor_parent_snapshot_id.  <br /></td></tr>
<tr class="separator:a0e4a09b5d021e344153b01e297c588c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41179cda4c4d05fdeea7477154414d4f" id="r_a41179cda4c4d05fdeea7477154414d4f"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a41179cda4c4d05fdeea7477154414d4f">CurrentAncestors</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table)</td></tr>
<tr class="memdesc:a41179cda4c4d05fdeea7477154414d4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector that traverses the table's snapshots from the current to the last known ancestor.  <br /></td></tr>
<tr class="separator:a41179cda4c4d05fdeea7477154414d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9abcf0c2b304b523ee19184d147efbfc" id="r_a9abcf0c2b304b523ee19184d147efbfc"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a9abcf0c2b304b523ee19184d147efbfc">CurrentAncestors</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata)</td></tr>
<tr class="memdesc:a9abcf0c2b304b523ee19184d147efbfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector that traverses the metadata's snapshots from the current to the last known ancestor.  <br /></td></tr>
<tr class="separator:a9abcf0c2b304b523ee19184d147efbfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfcd80a9c8bac56fc16bd31d18699b2" id="r_addfcd80a9c8bac56fc16bd31d18699b2"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; int64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#addfcd80a9c8bac56fc16bd31d18699b2">CurrentAncestorIds</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table)</td></tr>
<tr class="memdesc:addfcd80a9c8bac56fc16bd31d18699b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the snapshot IDs for the ancestors of the current table state.  <br /></td></tr>
<tr class="separator:addfcd80a9c8bac56fc16bd31d18699b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d97496b576b9a8f751a7ce0fd03ce50" id="r_a1d97496b576b9a8f751a7ce0fd03ce50"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a1d97496b576b9a8f751a7ce0fd03ce50">OldestAncestor</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table)</td></tr>
<tr class="memdesc:a1d97496b576b9a8f751a7ce0fd03ce50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses the history of the table's current snapshot and finds the oldest <a class="el" href="structiceberg_1_1Snapshot.html" title="A snapshot of the data in a table at a point in time.">Snapshot</a>.  <br /></td></tr>
<tr class="separator:a1d97496b576b9a8f751a7ce0fd03ce50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0ca8ec32e07e44f77400b8ebc4e97e" id="r_a6b0ca8ec32e07e44f77400b8ebc4e97e"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a6b0ca8ec32e07e44f77400b8ebc4e97e">OldestAncestorOf</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id)</td></tr>
<tr class="memdesc:a6b0ca8ec32e07e44f77400b8ebc4e97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses the history and finds the oldest ancestor of the specified snapshot.  <br /></td></tr>
<tr class="separator:a6b0ca8ec32e07e44f77400b8ebc4e97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff1d9a01a59c7986e8b084be5db5202" id="r_adff1d9a01a59c7986e8b084be5db5202"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#adff1d9a01a59c7986e8b084be5db5202">OldestAncestorAfter</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, TimePointMs timestamp_ms)</td></tr>
<tr class="memdesc:adff1d9a01a59c7986e8b084be5db5202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses the history of the table's current snapshot, finds the oldest snapshot that was committed either at or after a given time.  <br /></td></tr>
<tr class="separator:adff1d9a01a59c7986e8b084be5db5202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f041304078006352f813ac95fa4f439" id="r_a6f041304078006352f813ac95fa4f439"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; int64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a6f041304078006352f813ac95fa4f439">SnapshotIdsBetween</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t from_snapshot_id, int64_t to_snapshot_id)</td></tr>
<tr class="memdesc:a6f041304078006352f813ac95fa4f439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns list of snapshot ids in the range (from_snapshot_id,to_snapshot_id].  <br /></td></tr>
<tr class="separator:a6f041304078006352f813ac95fa4f439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a719ccd3dc805f3bfe7ae57da9c310f" id="r_a0a719ccd3dc805f3bfe7ae57da9c310f"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; int64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a0a719ccd3dc805f3bfe7ae57da9c310f">AncestorIdsBetween</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t latest_snapshot_id, const std::optional&lt; int64_t &gt; &amp;oldest_snapshot_id)</td></tr>
<tr class="memdesc:a0a719ccd3dc805f3bfe7ae57da9c310f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of ancestor IDs between two snapshots.  <br /></td></tr>
<tr class="separator:a0a719ccd3dc805f3bfe7ae57da9c310f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a564ad9949633d28fe7d865abd6c156" id="r_a2a564ad9949633d28fe7d865abd6c156"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a2a564ad9949633d28fe7d865abd6c156">AncestorsBetween</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t latest_snapshot_id, std::optional&lt; int64_t &gt; oldest_snapshot_id)</td></tr>
<tr class="memdesc:a2a564ad9949633d28fe7d865abd6c156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of ancestors between two snapshots.  <br /></td></tr>
<tr class="separator:a2a564ad9949633d28fe7d865abd6c156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6278cae4c638bf1d629908f7660b1ad3" id="r_a6278cae4c638bf1d629908f7660b1ad3"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a6278cae4c638bf1d629908f7660b1ad3">SnapshotAfter</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id)</td></tr>
<tr class="memdesc:a6278cae4c638bf1d629908f7660b1ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses the history of the table's current snapshot and finds the snapshot with the given snapshot id as its parent.  <br /></td></tr>
<tr class="separator:a6278cae4c638bf1d629908f7660b1ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb29f1036e7618b64149270df0349d5" id="r_a2bb29f1036e7618b64149270df0349d5"><td class="memItemLeft" align="right" valign="top">static Result&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a2bb29f1036e7618b64149270df0349d5">SnapshotIdAsOfTime</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, TimePointMs timestamp_ms)</td></tr>
<tr class="memdesc:a2bb29f1036e7618b64149270df0349d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the most recent snapshot for the table as of the timestamp.  <br /></td></tr>
<tr class="separator:a2bb29f1036e7618b64149270df0349d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf1f0553d8bb18fc569272b843b08c0" id="r_aebf1f0553d8bb18fc569272b843b08c0"><td class="memItemLeft" align="right" valign="top">static Result&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#aebf1f0553d8bb18fc569272b843b08c0">SnapshotIdAsOfTime</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata, TimePointMs timestamp_ms)</td></tr>
<tr class="memdesc:aebf1f0553d8bb18fc569272b843b08c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the most recent snapshot for the table as of the timestamp.  <br /></td></tr>
<tr class="separator:aebf1f0553d8bb18fc569272b843b08c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6117f0b0254614ba007a811196f5a442" id="r_a6117f0b0254614ba007a811196f5a442"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a6117f0b0254614ba007a811196f5a442">OptionalSnapshotIdAsOfTime</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, TimePointMs timestamp_ms)</td></tr>
<tr class="memdesc:a6117f0b0254614ba007a811196f5a442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the most recent snapshot for the table as of the timestamp, or nullopt if not found.  <br /></td></tr>
<tr class="separator:a6117f0b0254614ba007a811196f5a442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364ddbf0e9a8a911a0547533646f4502" id="r_a364ddbf0e9a8a911a0547533646f4502"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a364ddbf0e9a8a911a0547533646f4502">SchemaFor</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, int64_t snapshot_id)</td></tr>
<tr class="memdesc:a364ddbf0e9a8a911a0547533646f4502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the schema of the table for the specified snapshot.  <br /></td></tr>
<tr class="separator:a364ddbf0e9a8a911a0547533646f4502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2452b85ee0473acbc44bb2fcb2b87c6b" id="r_a2452b85ee0473acbc44bb2fcb2b87c6b"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a2452b85ee0473acbc44bb2fcb2b87c6b">SchemaFor</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, TimePointMs timestamp_ms)</td></tr>
<tr class="memdesc:a2452b85ee0473acbc44bb2fcb2b87c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the schema of the table for the specified timestamp.  <br /></td></tr>
<tr class="separator:a2452b85ee0473acbc44bb2fcb2b87c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152cad89bbcb2044cba4ac6623d552eb" id="r_a152cad89bbcb2044cba4ac6623d552eb"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a152cad89bbcb2044cba4ac6623d552eb">SchemaFor</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, const std::string &amp;ref)</td></tr>
<tr class="memdesc:a152cad89bbcb2044cba4ac6623d552eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the schema of the snapshot at a given ref.  <br /></td></tr>
<tr class="separator:a152cad89bbcb2044cba4ac6623d552eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa664004c952647833bb650ab598419d" id="r_afa664004c952647833bb650ab598419d"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#afa664004c952647833bb650ab598419d">SchemaFor</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata, const std::string &amp;ref)</td></tr>
<tr class="memdesc:afa664004c952647833bb650ab598419d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the schema of the snapshot at a given ref.  <br /></td></tr>
<tr class="separator:afa664004c952647833bb650ab598419d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad348ddc278be4934437f8a3dd0614886" id="r_ad348ddc278be4934437f8a3dd0614886"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#ad348ddc278be4934437f8a3dd0614886">LatestSnapshot</a> (const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;table, const std::string &amp;branch)</td></tr>
<tr class="memdesc:ad348ddc278be4934437f8a3dd0614886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the snapshot at the head of the given branch in the given table.  <br /></td></tr>
<tr class="separator:ad348ddc278be4934437f8a3dd0614886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac3a589a4a9d4a62c60e8a6cb08249b" id="r_a7ac3a589a4a9d4a62c60e8a6cb08249b"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a7ac3a589a4a9d4a62c60e8a6cb08249b">LatestSnapshot</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata, const std::string &amp;branch)</td></tr>
<tr class="memdesc:a7ac3a589a4a9d4a62c60e8a6cb08249b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the snapshot at the head of the given branch in the given table.  <br /></td></tr>
<tr class="separator:a7ac3a589a4a9d4a62c60e8a6cb08249b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f88f8df4a78dbc616bdeed71602bc74" id="r_a7f88f8df4a78dbc616bdeed71602bc74"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#a7f88f8df4a78dbc616bdeed71602bc74">OptionalLatestSnapshot</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata, const std::string &amp;branch)</td></tr>
<tr class="memdesc:a7f88f8df4a78dbc616bdeed71602bc74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the snapshot at the head of the given branch in the given table.  <br /></td></tr>
<tr class="separator:a7f88f8df4a78dbc616bdeed71602bc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c33e9e7731d518b300b699282f1878" id="r_a25c33e9e7731d518b300b699282f1878"><td class="memItemLeft" align="right" valign="top"><a id="a25c33e9e7731d518b300b699282f1878" name="a25c33e9e7731d518b300b699282f1878"></a>
static int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GenerateSnapshotId</b> ()</td></tr>
<tr class="memdesc:a25c33e9e7731d518b300b699282f1878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new snapshot ID. <br /></td></tr>
<tr class="separator:a25c33e9e7731d518b300b699282f1878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef63f4def32ea301f48586a084e8ae34" id="r_aef63f4def32ea301f48586a084e8ae34"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1SnapshotUtil.html#aef63f4def32ea301f48586a084e8ae34">GenerateSnapshotId</a> (const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;metadata)</td></tr>
<tr class="memdesc:aef63f4def32ea301f48586a084e8ae34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new snapshot ID for the given metadata.  <br /></td></tr>
<tr class="separator:aef63f4def32ea301f48586a084e8ae34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility functions for working with snapshots. </p>
<dl class="section note"><dt>Note</dt><dd>All the returned std::shared_ptr&lt;Snapshot&gt; are guaranteed to be not null. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0a719ccd3dc805f3bfe7ae57da9c310f" name="a0a719ccd3dc805f3bfe7ae57da9c310f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a719ccd3dc805f3bfe7ae57da9c310f">&#9670;&#160;</a></span>AncestorIdsBetween()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; int64_t &gt; &gt; iceberg::SnapshotUtil::AncestorIdsBetween </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>latest_snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>oldest_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector of ancestor IDs between two snapshots. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">latest_snapshot_id</td><td>The latest snapshot ID </td></tr>
    <tr><td class="paramname">oldest_snapshot_id</td><td>The oldest snapshot ID (optional, nullopt means all ancestors) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of snapshot IDs between the two snapshots </dd></dl>

</div>
</div>
<a id="a2a564ad9949633d28fe7d865abd6c156" name="a2a564ad9949633d28fe7d865abd6c156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a564ad9949633d28fe7d865abd6c156">&#9670;&#160;</a></span>AncestorsBetween()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::AncestorsBetween </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>latest_snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>oldest_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector of ancestors between two snapshots. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">latest_snapshot_id</td><td>The latest snapshot ID </td></tr>
    <tr><td class="paramname">oldest_snapshot_id</td><td>The oldest snapshot ID (optional, nullopt means all ancestors) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of ancestor snapshots between the two snapshots </dd></dl>

</div>
</div>
<a id="a47a80cda09e68bab18d4e82f26da06e6" name="a47a80cda09e68bab18d4e82f26da06e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a80cda09e68bab18d4e82f26da06e6">&#9670;&#160;</a></span>AncestorsOf() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::AncestorsOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector of ancestors of the given snapshot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The snapshot ID to start from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of ancestor snapshots </dd></dl>

</div>
</div>
<a id="ac6e5364b6109d40089fcec830b90d270" name="ac6e5364b6109d40089fcec830b90d270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e5364b6109d40089fcec830b90d270">&#9670;&#160;</a></span>AncestorsOf() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::AncestorsOf </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;(int64_t)&gt; &amp;&#160;</td>
          <td class="paramname"><em>lookup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector of ancestors of the given snapshot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot_id</td><td>The snapshot ID to start from </td></tr>
    <tr><td class="paramname">lookup</td><td>A function to look up snapshots by ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of ancestor snapshots </dd></dl>

</div>
</div>
<a id="addfcd80a9c8bac56fc16bd31d18699b2" name="addfcd80a9c8bac56fc16bd31d18699b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfcd80a9c8bac56fc16bd31d18699b2">&#9670;&#160;</a></span>CurrentAncestorIds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; int64_t &gt; &gt; iceberg::SnapshotUtil::CurrentAncestorIds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the snapshot IDs for the ancestors of the current table state. </p>
<p>Ancestor IDs are ordered by commit time, descending. The first ID is the current snapshot, followed by its parent, and so on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of snapshot IDs of the known ancestor snapshots, including the current ID </dd></dl>

</div>
</div>
<a id="a41179cda4c4d05fdeea7477154414d4f" name="a41179cda4c4d05fdeea7477154414d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41179cda4c4d05fdeea7477154414d4f">&#9670;&#160;</a></span>CurrentAncestors() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::CurrentAncestors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector that traverses the table's snapshots from the current to the last known ancestor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector from the table's current snapshot to its last known ancestor </dd></dl>

</div>
</div>
<a id="a9abcf0c2b304b523ee19184d147efbfc" name="a9abcf0c2b304b523ee19184d147efbfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9abcf0c2b304b523ee19184d147efbfc">&#9670;&#160;</a></span>CurrentAncestors() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::CurrentAncestors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a vector that traverses the metadata's snapshots from the current to the last known ancestor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector from the metadata's current snapshot to its last known ancestor </dd></dl>

</div>
</div>
<a id="aef63f4def32ea301f48586a084e8ae34" name="aef63f4def32ea301f48586a084e8ae34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef63f4def32ea301f48586a084e8ae34">&#9670;&#160;</a></span>GenerateSnapshotId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t iceberg::SnapshotUtil::GenerateSnapshotId </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a new snapshot ID for the given metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new snapshot ID </dd></dl>

</div>
</div>
<a id="ab2e84754b2696638864856fef240dabf" name="ab2e84754b2696638864856fef240dabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e84754b2696638864856fef240dabf">&#9670;&#160;</a></span>IsAncestorOf() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; bool &gt; iceberg::SnapshotUtil::IsAncestorOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>ancestor_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether ancestor_snapshot_id is an ancestor of the table's current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to check </td></tr>
    <tr><td class="paramname">ancestor_snapshot_id</td><td>The ancestor snapshot ID to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if ancestor_snapshot_id is an ancestor of the current snapshot </dd></dl>

</div>
</div>
<a id="ae3da0853e68da0249df527b8ccd5ca97" name="ae3da0853e68da0249df527b8ccd5ca97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3da0853e68da0249df527b8ccd5ca97">&#9670;&#160;</a></span>IsAncestorOf() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; bool &gt; iceberg::SnapshotUtil::IsAncestorOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>ancestor_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether ancestor_snapshot_id is an ancestor of snapshot_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to check </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The snapshot ID to check </td></tr>
    <tr><td class="paramname">ancestor_snapshot_id</td><td>The ancestor snapshot ID to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if ancestor_snapshot_id is an ancestor of snapshot_id </dd></dl>

</div>
</div>
<a id="a42b5e0916dd5156dd6db8048b6be968c" name="a42b5e0916dd5156dd6db8048b6be968c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b5e0916dd5156dd6db8048b6be968c">&#9670;&#160;</a></span>IsAncestorOf() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; bool &gt; iceberg::SnapshotUtil::IsAncestorOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>ancestor_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether ancestor_snapshot_id is an ancestor of the metadata's current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata to check </td></tr>
    <tr><td class="paramname">ancestor_snapshot_id</td><td>The ancestor snapshot ID to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if ancestor_snapshot_id is an ancestor of the current snapshot </dd></dl>

</div>
</div>
<a id="a82eb77fad1c18d03682a059fad5f595d" name="a82eb77fad1c18d03682a059fad5f595d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82eb77fad1c18d03682a059fad5f595d">&#9670;&#160;</a></span>IsAncestorOf() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; bool &gt; iceberg::SnapshotUtil::IsAncestorOf </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>ancestor_snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt;(int64_t)&gt; &amp;&#160;</td>
          <td class="paramname"><em>lookup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether ancestor_snapshot_id is an ancestor of snapshot_id using the given lookup function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot_id</td><td>The snapshot ID to check </td></tr>
    <tr><td class="paramname">ancestor_snapshot_id</td><td>The ancestor snapshot ID to check for </td></tr>
    <tr><td class="paramname">lookup</td><td>Function to lookup snapshots by ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if ancestor_snapshot_id is an ancestor of snapshot_id </dd></dl>

</div>
</div>
<a id="a0e4a09b5d021e344153b01e297c588c4" name="a0e4a09b5d021e344153b01e297c588c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4a09b5d021e344153b01e297c588c4">&#9670;&#160;</a></span>IsParentAncestorOf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; bool &gt; iceberg::SnapshotUtil::IsParentAncestorOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>ancestor_parent_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether some ancestor of snapshot_id has parentId matches ancestor_parent_snapshot_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to check </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The snapshot ID to check </td></tr>
    <tr><td class="paramname">ancestor_parent_snapshot_id</td><td>The ancestor parent snapshot ID to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if any ancestor has the given parent ID </dd></dl>

</div>
</div>
<a id="ad348ddc278be4934437f8a3dd0614886" name="ad348ddc278be4934437f8a3dd0614886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad348ddc278be4934437f8a3dd0614886">&#9670;&#160;</a></span>LatestSnapshot() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; iceberg::SnapshotUtil::LatestSnapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>branch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the snapshot at the head of the given branch in the given table. </p>
<p>This method calls <a class="el" href="structiceberg_1_1TableMetadata.html#af4deecc6a29f4a93568ced47803830af" title="Get the current snapshot, return NotFoundError if not found.">TableMetadata::Snapshot()</a> instead of using branch API for the main branch so that existing code still goes through the old code path to ensure backwards compatibility.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">branch</td><td>Branch name of the table (empty string means main branch) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The latest snapshot for the given branch, or NotFoundError. </dd></dl>

</div>
</div>
<a id="a7ac3a589a4a9d4a62c60e8a6cb08249b" name="a7ac3a589a4a9d4a62c60e8a6cb08249b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ac3a589a4a9d4a62c60e8a6cb08249b">&#9670;&#160;</a></span>LatestSnapshot() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; iceberg::SnapshotUtil::LatestSnapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>branch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the snapshot at the head of the given branch in the given table. </p>
<p>This method calls <a class="el" href="structiceberg_1_1TableMetadata.html#af4deecc6a29f4a93568ced47803830af" title="Get the current snapshot, return NotFoundError if not found.">TableMetadata::Snapshot()</a> instead of using branch API for the main branch so that existing code still goes through the old code path to ensure backwards compatibility.</p>
<p>If branch does not exist, the table's latest snapshot is returned it will be the schema when the new branch is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
    <tr><td class="paramname">branch</td><td>Branch name of the table metadata (empty string means main branch) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The latest snapshot for the given branch, or NotFoundError. </dd></dl>

</div>
</div>
<a id="a1d97496b576b9a8f751a7ce0fd03ce50" name="a1d97496b576b9a8f751a7ce0fd03ce50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d97496b576b9a8f751a7ce0fd03ce50">&#9670;&#160;</a></span>OldestAncestor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::OldestAncestor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses the history of the table's current snapshot and finds the oldest <a class="el" href="structiceberg_1_1Snapshot.html" title="A snapshot of the data in a table at a point in time.">Snapshot</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The oldest snapshot, or nullopt if there is no current snapshot </dd></dl>

</div>
</div>
<a id="adff1d9a01a59c7986e8b084be5db5202" name="adff1d9a01a59c7986e8b084be5db5202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adff1d9a01a59c7986e8b084be5db5202">&#9670;&#160;</a></span>OldestAncestorAfter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::OldestAncestorAfter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimePointMs&#160;</td>
          <td class="paramname"><em>timestamp_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses the history of the table's current snapshot, finds the oldest snapshot that was committed either at or after a given time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">timestamp_ms</td><td>A timestamp in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first snapshot after the given timestamp, or nullopt if the current snapshot is older than the timestamp. If the first ancestor after the given time can't be determined, returns a NotFound error. </dd></dl>

</div>
</div>
<a id="a6b0ca8ec32e07e44f77400b8ebc4e97e" name="a6b0ca8ec32e07e44f77400b8ebc4e97e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0ca8ec32e07e44f77400b8ebc4e97e">&#9670;&#160;</a></span>OldestAncestorOf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::optional&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; &gt; iceberg::SnapshotUtil::OldestAncestorOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses the history and finds the oldest ancestor of the specified snapshot. </p>
<p>Oldest ancestor is defined as the ancestor snapshot whose parent is null or has been expired. If the specified snapshot has no parent or parent has been expired, the specified snapshot itself is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The ID of the snapshot to find the oldest ancestor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The oldest snapshot, or nullopt if not found </dd></dl>

</div>
</div>
<a id="a7f88f8df4a78dbc616bdeed71602bc74" name="a7f88f8df4a78dbc616bdeed71602bc74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f88f8df4a78dbc616bdeed71602bc74">&#9670;&#160;</a></span>OptionalLatestSnapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; iceberg::SnapshotUtil::OptionalLatestSnapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>branch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the snapshot at the head of the given branch in the given table. </p>
<p>Like LatestSnapshot above except that nullptr is returned if snapshot does not exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
    <tr><td class="paramname">branch</td><td>Branch name of the table metadata (empty string means main branch) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The latest snapshot for the given branch, or nullptr if not found. </dd></dl>

</div>
</div>
<a id="a6117f0b0254614ba007a811196f5a442" name="a6117f0b0254614ba007a811196f5a442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6117f0b0254614ba007a811196f5a442">&#9670;&#160;</a></span>OptionalSnapshotIdAsOfTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; int64_t &gt; iceberg::SnapshotUtil::OptionalSnapshotIdAsOfTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimePointMs&#160;</td>
          <td class="paramname"><em>timestamp_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ID of the most recent snapshot for the table as of the timestamp, or nullopt if not found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">timestamp_ms</td><td>The timestamp in millis since the Unix epoch </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The snapshot ID, or nullopt if not found </dd></dl>

</div>
</div>
<a id="a152cad89bbcb2044cba4ac6623d552eb" name="a152cad89bbcb2044cba4ac6623d552eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152cad89bbcb2044cba4ac6623d552eb">&#9670;&#160;</a></span>SchemaFor() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt; iceberg::SnapshotUtil::SchemaFor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the schema of the snapshot at a given ref. </p>
<p>If the ref does not exist or the ref is a branch, the table schema is returned because it will be the schema when the new branch is created. If the ref is a tag, then the snapshot schema is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">ref</td><td>Ref name of the table (empty string means main branch) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classiceberg_1_1Schema.html" title="A schema for a Table.">Schema</a> of the specific snapshot at the given ref </dd></dl>

</div>
</div>
<a id="a364ddbf0e9a8a911a0547533646f4502" name="a364ddbf0e9a8a911a0547533646f4502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364ddbf0e9a8a911a0547533646f4502">&#9670;&#160;</a></span>SchemaFor() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt; iceberg::SnapshotUtil::SchemaFor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the schema of the table for the specified snapshot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The ID of the snapshot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The schema </dd></dl>

</div>
</div>
<a id="a2452b85ee0473acbc44bb2fcb2b87c6b" name="a2452b85ee0473acbc44bb2fcb2b87c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2452b85ee0473acbc44bb2fcb2b87c6b">&#9670;&#160;</a></span>SchemaFor() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt; iceberg::SnapshotUtil::SchemaFor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimePointMs&#160;</td>
          <td class="paramname"><em>timestamp_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the schema of the table for the specified timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">timestamp_ms</td><td>The timestamp in millis since the Unix epoch </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The schema </dd></dl>

</div>
</div>
<a id="afa664004c952647833bb650ab598419d" name="afa664004c952647833bb650ab598419d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa664004c952647833bb650ab598419d">&#9670;&#160;</a></span>SchemaFor() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; &gt; iceberg::SnapshotUtil::SchemaFor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the schema of the snapshot at a given ref. </p>
<p>If the ref does not exist or the ref is a branch, the table schema is returned because it will be the schema when the new branch is created. If the ref is a tag, then the snapshot schema is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
    <tr><td class="paramname">ref</td><td>Ref name of the table (empty string means main branch) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classiceberg_1_1Schema.html" title="A schema for a Table.">Schema</a> of the specific snapshot at the given branch </dd></dl>

</div>
</div>
<a id="a6278cae4c638bf1d629908f7660b1ad3" name="a6278cae4c638bf1d629908f7660b1ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6278cae4c638bf1d629908f7660b1ad3">&#9670;&#160;</a></span>SnapshotAfter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::shared_ptr&lt; <a class="el" href="structiceberg_1_1Snapshot.html">Snapshot</a> &gt; &gt; iceberg::SnapshotUtil::SnapshotAfter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses the history of the table's current snapshot and finds the snapshot with the given snapshot id as its parent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>The parent snapshot ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The snapshot for which the given snapshot is the parent </dd></dl>

</div>
</div>
<a id="a2bb29f1036e7618b64149270df0349d5" name="a2bb29f1036e7618b64149270df0349d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb29f1036e7618b64149270df0349d5">&#9670;&#160;</a></span>SnapshotIdAsOfTime() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; int64_t &gt; iceberg::SnapshotUtil::SnapshotIdAsOfTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimePointMs&#160;</td>
          <td class="paramname"><em>timestamp_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ID of the most recent snapshot for the table as of the timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">timestamp_ms</td><td>The timestamp in millis since the Unix epoch </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The snapshot ID </dd></dl>

</div>
</div>
<a id="aebf1f0553d8bb18fc569272b843b08c0" name="aebf1f0553d8bb18fc569272b843b08c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf1f0553d8bb18fc569272b843b08c0">&#9670;&#160;</a></span>SnapshotIdAsOfTime() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; int64_t &gt; iceberg::SnapshotUtil::SnapshotIdAsOfTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1TableMetadata.html">TableMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimePointMs&#160;</td>
          <td class="paramname"><em>timestamp_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ID of the most recent snapshot for the table as of the timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The table metadata </td></tr>
    <tr><td class="paramname">timestamp_ms</td><td>The timestamp in millis since the Unix epoch </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The snapshot ID </dd></dl>

</div>
</div>
<a id="a6f041304078006352f813ac95fa4f439" name="a6f041304078006352f813ac95fa4f439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f041304078006352f813ac95fa4f439">&#9670;&#160;</a></span>SnapshotIdsBetween()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::vector&lt; int64_t &gt; &gt; iceberg::SnapshotUtil::SnapshotIdsBetween </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiceberg_1_1Table.html">Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>from_snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>to_snapshot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns list of snapshot ids in the range (from_snapshot_id,to_snapshot_id]. </p>
<p>This method assumes that from_snapshot_id is an ancestor of to_snapshot_id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table </td></tr>
    <tr><td class="paramname">from_snapshot_id</td><td>The starting snapshot ID (exclusive) </td></tr>
    <tr><td class="paramname">to_snapshot_id</td><td>The ending snapshot ID (inclusive) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of snapshot IDs in the range </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>iceberg/util/<a class="el" href="snapshot__util__internal_8h_source.html">snapshot_util_internal.h</a></li>
<li>iceberg/util/<b>snapshot_util.cc</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
