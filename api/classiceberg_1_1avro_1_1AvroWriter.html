<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iceberg-cpp: iceberg::avro::AvroWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iceberg-cpp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>iceberg</b></li><li class="navelem"><b>avro</b></li><li class="navelem"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html">AvroWriter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classiceberg_1_1avro_1_1AvroWriter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">iceberg::avro::AvroWriter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A writer for serializing <a class="el" href="structArrowArray.html">ArrowArray</a> to Avro files.  
 <a href="classiceberg_1_1avro_1_1AvroWriter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="avro__writer_8h_source.html">avro_writer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for iceberg::avro::AvroWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classiceberg_1_1avro_1_1AvroWriter.png" usemap="#iceberg::avro::AvroWriter_map" alt=""/>
  <map id="iceberg::avro::AvroWriter_map" name="iceberg::avro::AvroWriter_map">
<area href="classiceberg_1_1Writer.html" title="Base writer class to write data from different file formats." alt="iceberg::Writer" shape="rect" coords="0,0,155,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter_1_1Impl.html">Impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f1f8a09bac758ba7602e13f572f3d62" id="r_a6f1f8a09bac758ba7602e13f572f3d62"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#a6f1f8a09bac758ba7602e13f572f3d62">Open</a> (const <a class="el" href="structiceberg_1_1WriterOptions.html">WriterOptions</a> &amp;options) final</td></tr>
<tr class="memdesc:a6f1f8a09bac758ba7602e13f572f3d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the writer.  <br /></td></tr>
<tr class="separator:a6f1f8a09bac758ba7602e13f572f3d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd42fd539830a897aae840cf0e2a8b5" id="r_a2dd42fd539830a897aae840cf0e2a8b5"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#a2dd42fd539830a897aae840cf0e2a8b5">Close</a> () final</td></tr>
<tr class="memdesc:a2dd42fd539830a897aae840cf0e2a8b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the writer.  <br /></td></tr>
<tr class="separator:a2dd42fd539830a897aae840cf0e2a8b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e9eb49bcb01e2e7823f529c7f42025" id="r_a60e9eb49bcb01e2e7823f529c7f42025"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#a60e9eb49bcb01e2e7823f529c7f42025">Write</a> (<a class="el" href="structArrowArray.html">ArrowArray</a> *data) final</td></tr>
<tr class="memdesc:a60e9eb49bcb01e2e7823f529c7f42025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write arrow data to the file.  <br /></td></tr>
<tr class="separator:a60e9eb49bcb01e2e7823f529c7f42025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3713ff59007cca54e37800f89eefa9f" id="r_af3713ff59007cca54e37800f89eefa9f"><td class="memItemLeft" align="right" valign="top">Result&lt; <a class="el" href="structiceberg_1_1Metrics.html">Metrics</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#af3713ff59007cca54e37800f89eefa9f">metrics</a> () final</td></tr>
<tr class="memdesc:af3713ff59007cca54e37800f89eefa9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file statistics. Only valid after the file is closed.  <br /></td></tr>
<tr class="separator:af3713ff59007cca54e37800f89eefa9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05ec6d94cbc4f51f8032a5ccae8ec8b" id="r_ac05ec6d94cbc4f51f8032a5ccae8ec8b"><td class="memItemLeft" align="right" valign="top">Result&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#ac05ec6d94cbc4f51f8032a5ccae8ec8b">length</a> () final</td></tr>
<tr class="memdesc:ac05ec6d94cbc4f51f8032a5ccae8ec8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file length. This can be called while the writer is still open or after the file is closed.  <br /></td></tr>
<tr class="separator:ac05ec6d94cbc4f51f8032a5ccae8ec8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cea029f237cc8d1f8dd9361e3546042" id="r_a6cea029f237cc8d1f8dd9361e3546042"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1avro_1_1AvroWriter.html#a6cea029f237cc8d1f8dd9361e3546042">split_offsets</a> () final</td></tr>
<tr class="memdesc:a6cea029f237cc8d1f8dd9361e3546042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of recommended split locations, if applicable, empty otherwise. When available, this information is used for planning scan tasks whose boundaries are determined by these offsets. The returned list must be sorted in ascending order. Only valid after the file is closed.  <br /></td></tr>
<tr class="separator:a6cea029f237cc8d1f8dd9361e3546042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classiceberg_1_1Writer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classiceberg_1_1Writer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classiceberg_1_1Writer.html">iceberg::Writer</a></td></tr>
<tr class="memitem:a949903764bf9e3d38f00edb297a7103e inherit pub_methods_classiceberg_1_1Writer" id="r_a949903764bf9e3d38f00edb297a7103e"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>Writer</b> (const <a class="el" href="classiceberg_1_1Writer.html">Writer</a> &amp;)=delete</td></tr>
<tr class="separator:a949903764bf9e3d38f00edb297a7103e inherit pub_methods_classiceberg_1_1Writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4749448ef3a9f01d946294d44f23578 inherit pub_methods_classiceberg_1_1Writer" id="r_ab4749448ef3a9f01d946294d44f23578"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classiceberg_1_1Writer.html">Writer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classiceberg_1_1Writer.html">Writer</a> &amp;)=delete</td></tr>
<tr class="separator:ab4749448ef3a9f01d946294d44f23578 inherit pub_methods_classiceberg_1_1Writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A writer for serializing <a class="el" href="structArrowArray.html">ArrowArray</a> to Avro files. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2dd42fd539830a897aae840cf0e2a8b5" name="a2dd42fd539830a897aae840cf0e2a8b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd42fd539830a897aae840cf0e2a8b5">&#9670;&#160;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::avro::AvroWriter::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the writer. </p>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#ad919074c1cb99c517b3e7e09214cd43c">iceberg::Writer</a>.</p>

</div>
</div>
<a id="ac05ec6d94cbc4f51f8032a5ccae8ec8b" name="ac05ec6d94cbc4f51f8032a5ccae8ec8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05ec6d94cbc4f51f8032a5ccae8ec8b">&#9670;&#160;</a></span>length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; int64_t &gt; iceberg::avro::AvroWriter::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the file length. This can be called while the writer is still open or after the file is closed. </p>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#a5de3531e7c60570692a4a2b0d8449a81">iceberg::Writer</a>.</p>

</div>
</div>
<a id="af3713ff59007cca54e37800f89eefa9f" name="af3713ff59007cca54e37800f89eefa9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3713ff59007cca54e37800f89eefa9f">&#9670;&#160;</a></span>metrics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; <a class="el" href="structiceberg_1_1Metrics.html">Metrics</a> &gt; iceberg::avro::AvroWriter::metrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the file statistics. Only valid after the file is closed. </p>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#a36090c8c8e11cd6d5746b3c57e90983d">iceberg::Writer</a>.</p>

</div>
</div>
<a id="a6f1f8a09bac758ba7602e13f572f3d62" name="a6f1f8a09bac758ba7602e13f572f3d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f1f8a09bac758ba7602e13f572f3d62">&#9670;&#160;</a></span>Open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::avro::AvroWriter::Open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1WriterOptions.html">WriterOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the writer. </p>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#a3088b433357b7589be2aa294fa311346">iceberg::Writer</a>.</p>

</div>
</div>
<a id="a6cea029f237cc8d1f8dd9361e3546042" name="a6cea029f237cc8d1f8dd9361e3546042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cea029f237cc8d1f8dd9361e3546042">&#9670;&#160;</a></span>split_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int64_t &gt; iceberg::avro::AvroWriter::split_offsets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of recommended split locations, if applicable, empty otherwise. When available, this information is used for planning scan tasks whose boundaries are determined by these offsets. The returned list must be sorted in ascending order. Only valid after the file is closed. </p>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#a9630828a5052ec475c653ed492f70124">iceberg::Writer</a>.</p>

</div>
</div>
<a id="a60e9eb49bcb01e2e7823f529c7f42025" name="a60e9eb49bcb01e2e7823f529c7f42025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e9eb49bcb01e2e7823f529c7f42025">&#9670;&#160;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::avro::AvroWriter::Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArrowArray.html">ArrowArray</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write arrow data to the file. </p>
<dl class="section return"><dt>Returns</dt><dd>Status of write results. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Ownership of the data is transferred to the writer. </dd></dl>

<p>Implements <a class="el" href="classiceberg_1_1Writer.html#ab9fd192deac4e2a73bbd5c8e8ee71529">iceberg::Writer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>iceberg/avro/<a class="el" href="avro__writer_8h_source.html">avro_writer.h</a></li>
<li>iceberg/avro/<b>avro_writer.cc</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
