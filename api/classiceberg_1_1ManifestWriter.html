<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iceberg-cpp: iceberg::ManifestWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iceberg-cpp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>iceberg</b></li><li class="navelem"><a class="el" href="classiceberg_1_1ManifestWriter.html">ManifestWriter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classiceberg_1_1ManifestWriter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">iceberg::ManifestWriter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Write manifest entries to a manifest file.  
 <a href="classiceberg_1_1ManifestWriter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="manifest__writer_8h_source.html">manifest_writer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5b7f3411b9e6e08d7961df4c03139a3" id="r_ab5b7f3411b9e6e08d7961df4c03139a3"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#ab5b7f3411b9e6e08d7961df4c03139a3">WriteEntry</a> (const <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &amp;entry)</td></tr>
<tr class="memdesc:ab5b7f3411b9e6e08d7961df4c03139a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the entry that all its fields are populated correctly.  <br /></td></tr>
<tr class="separator:ab5b7f3411b9e6e08d7961df4c03139a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130bca392b9caca711486c56fae5bc9c" id="r_a130bca392b9caca711486c56fae5bc9c"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#a130bca392b9caca711486c56fae5bc9c">WriteAddedEntry</a> (std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt; file, std::optional&lt; int64_t &gt; data_sequence_number=std::nullopt)</td></tr>
<tr class="memdesc:a130bca392b9caca711486c56fae5bc9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an added entry for a file with a specific sequence number.  <br /></td></tr>
<tr class="separator:a130bca392b9caca711486c56fae5bc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6d486bfb6942f2ab1a3f0417c20da7" id="r_a2b6d486bfb6942f2ab1a3f0417c20da7"><td class="memItemLeft" align="right" valign="top"><a id="a2b6d486bfb6942f2ab1a3f0417c20da7" name="a2b6d486bfb6942f2ab1a3f0417c20da7"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>WriteAddedEntry</b> (const <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &amp;entry)</td></tr>
<tr class="memdesc:a2b6d486bfb6942f2ab1a3f0417c20da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new entry to the manifest. The method populates the snapshot id and status fields of the entry. <br /></td></tr>
<tr class="separator:a2b6d486bfb6942f2ab1a3f0417c20da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaed786e94e14d1d0d605d93a0fc9b83" id="r_acaed786e94e14d1d0d605d93a0fc9b83"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#acaed786e94e14d1d0d605d93a0fc9b83">WriteExistingEntry</a> (std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt; file, int64_t file_snapshot_id, int64_t data_sequence_number, std::optional&lt; int64_t &gt; file_sequence_number=std::nullopt)</td></tr>
<tr class="memdesc:acaed786e94e14d1d0d605d93a0fc9b83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an existing entry for a file.  <br /></td></tr>
<tr class="separator:acaed786e94e14d1d0d605d93a0fc9b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63626964a29aa89ec0acbebffbfb179" id="r_aa63626964a29aa89ec0acbebffbfb179"><td class="memItemLeft" align="right" valign="top"><a id="aa63626964a29aa89ec0acbebffbfb179" name="aa63626964a29aa89ec0acbebffbfb179"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>WriteExistingEntry</b> (const <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &amp;entry)</td></tr>
<tr class="memdesc:aa63626964a29aa89ec0acbebffbfb179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an existing entry to the manifest. The method populates the status field of the entry. <br /></td></tr>
<tr class="separator:aa63626964a29aa89ec0acbebffbfb179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7077a6d0c534749950d1cc704e3baf63" id="r_a7077a6d0c534749950d1cc704e3baf63"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#a7077a6d0c534749950d1cc704e3baf63">WriteDeletedEntry</a> (std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt; file, int64_t data_sequence_number, std::optional&lt; int64_t &gt; file_sequence_number=std::nullopt)</td></tr>
<tr class="memdesc:a7077a6d0c534749950d1cc704e3baf63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a delete entry for a file.  <br /></td></tr>
<tr class="separator:a7077a6d0c534749950d1cc704e3baf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf7cbf49bd2c37e117917ffb40174f79" id="r_adf7cbf49bd2c37e117917ffb40174f79"><td class="memItemLeft" align="right" valign="top"><a id="adf7cbf49bd2c37e117917ffb40174f79" name="adf7cbf49bd2c37e117917ffb40174f79"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>WriteDeletedEntry</b> (const <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &amp;entry)</td></tr>
<tr class="memdesc:adf7cbf49bd2c37e117917ffb40174f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a deleted entry to the manifest. The method populates the snapshot id and status fields of the entry. <br /></td></tr>
<tr class="separator:adf7cbf49bd2c37e117917ffb40174f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c4ce0f110e409e1b89972f511398fc" id="r_ab6c4ce0f110e409e1b89972f511398fc"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#ab6c4ce0f110e409e1b89972f511398fc">AddAll</a> (const std::vector&lt; <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &gt; &amp;entries)</td></tr>
<tr class="memdesc:ab6c4ce0f110e409e1b89972f511398fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write manifest entries to file.  <br /></td></tr>
<tr class="separator:ab6c4ce0f110e409e1b89972f511398fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d487b3ba914704f2f22af6e4839ca8" id="r_a59d487b3ba914704f2f22af6e4839ca8"><td class="memItemLeft" align="right" valign="top"><a id="a59d487b3ba914704f2f22af6e4839ca8" name="a59d487b3ba914704f2f22af6e4839ca8"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>Close</b> ()</td></tr>
<tr class="memdesc:a59d487b3ba914704f2f22af6e4839ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close writer and flush to storage. <br /></td></tr>
<tr class="separator:a59d487b3ba914704f2f22af6e4839ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977c550526d5aaca0a31c1c796732273" id="r_a977c550526d5aaca0a31c1c796732273"><td class="memItemLeft" align="right" valign="top"><a id="a977c550526d5aaca0a31c1c796732273" name="a977c550526d5aaca0a31c1c796732273"></a>
<a class="el" href="manifest__list_8h.html#a06efcb6319f35c7b0af2f629a9e7ae05">ManifestContent</a>&#160;</td><td class="memItemRight" valign="bottom"><b>content</b> () const</td></tr>
<tr class="memdesc:a977c550526d5aaca0a31c1c796732273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the content of the manifest. <br /></td></tr>
<tr class="separator:a977c550526d5aaca0a31c1c796732273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b403555d479afc633c183334349c071" id="r_a5b403555d479afc633c183334349c071"><td class="memItemLeft" align="right" valign="top">Result&lt; <a class="el" href="structiceberg_1_1Metrics.html">Metrics</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#a5b403555d479afc633c183334349c071">metrics</a> () const</td></tr>
<tr class="memdesc:a5b403555d479afc633c183334349c071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the metrics of written manifest file.  <br /></td></tr>
<tr class="separator:a5b403555d479afc633c183334349c071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727bb9a63b0585f16cca8b92d8c70311" id="r_a727bb9a63b0585f16cca8b92d8c70311"><td class="memItemLeft" align="right" valign="top">Result&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#a727bb9a63b0585f16cca8b92d8c70311">length</a> () const</td></tr>
<tr class="memdesc:a727bb9a63b0585f16cca8b92d8c70311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current length of the manifest file in bytes.  <br /></td></tr>
<tr class="separator:a727bb9a63b0585f16cca8b92d8c70311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fbeed661c60158774a86a8e90b36a5" id="r_ad9fbeed661c60158774a86a8e90b36a5"><td class="memItemLeft" align="right" valign="top">Result&lt; <a class="el" href="structiceberg_1_1ManifestFile.html">ManifestFile</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#ad9fbeed661c60158774a86a8e90b36a5">ToManifestFile</a> () const</td></tr>
<tr class="memdesc:ad9fbeed661c60158774a86a8e90b36a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="structiceberg_1_1ManifestFile.html" title="Entry in a manifest list.">ManifestFile</a> object.  <br /></td></tr>
<tr class="separator:ad9fbeed661c60158774a86a8e90b36a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afcf666ce264296058535f30568302544" id="r_afcf666ce264296058535f30568302544"><td class="memItemLeft" align="right" valign="top">static Result&lt; std::unique_ptr&lt; <a class="el" href="classiceberg_1_1ManifestWriter.html">ManifestWriter</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiceberg_1_1ManifestWriter.html#afcf666ce264296058535f30568302544">MakeWriter</a> (int8_t format_version, std::optional&lt; int64_t &gt; snapshot_id, std::string_view manifest_location, std::shared_ptr&lt; <a class="el" href="classiceberg_1_1FileIO.html">FileIO</a> &gt; file_io, std::shared_ptr&lt; <a class="el" href="classiceberg_1_1PartitionSpec.html">PartitionSpec</a> &gt; partition_spec, std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt; current_schema, <a class="el" href="manifest__list_8h.html#a06efcb6319f35c7b0af2f629a9e7ae05">ManifestContent</a> <a class="el" href="classiceberg_1_1ManifestWriter.html#a977c550526d5aaca0a31c1c796732273">content</a>=<a class="el" href="manifest__list_8h.html#a06efcb6319f35c7b0af2f629a9e7ae05a0ac87546e8b36fcb3034694d4d909ea3">ManifestContent::kData</a>, std::optional&lt; int64_t &gt; first_row_id=std::nullopt)</td></tr>
<tr class="memdesc:afcf666ce264296058535f30568302544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function to create a writer for a manifest file based on format version.  <br /></td></tr>
<tr class="separator:afcf666ce264296058535f30568302544"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Write manifest entries to a manifest file. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab6c4ce0f110e409e1b89972f511398fc" name="ab6c4ce0f110e409e1b89972f511398fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c4ce0f110e409e1b89972f511398fc">&#9670;&#160;</a></span>AddAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::ManifestWriter::AddAll </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>entries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write manifest entries to file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entries</td><td>Already populated manifest entries to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status indicating success or failure </dd></dl>

</div>
</div>
<a id="a727bb9a63b0585f16cca8b92d8c70311" name="a727bb9a63b0585f16cca8b92d8c70311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727bb9a63b0585f16cca8b92d8c70311">&#9670;&#160;</a></span>length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; int64_t &gt; iceberg::ManifestWriter::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current length of the manifest file in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>The current length of the file, or an error if the operation fails. </dd></dl>

</div>
</div>
<a id="afcf666ce264296058535f30568302544" name="afcf666ce264296058535f30568302544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcf666ce264296058535f30568302544">&#9670;&#160;</a></span>MakeWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; std::unique_ptr&lt; <a class="el" href="classiceberg_1_1ManifestWriter.html">ManifestWriter</a> &gt; &gt; iceberg::ManifestWriter::MakeWriter </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>format_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>manifest_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classiceberg_1_1FileIO.html">FileIO</a> &gt;&#160;</td>
          <td class="paramname"><em>file_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classiceberg_1_1PartitionSpec.html">PartitionSpec</a> &gt;&#160;</td>
          <td class="paramname"><em>partition_spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classiceberg_1_1Schema.html">Schema</a> &gt;&#160;</td>
          <td class="paramname"><em>current_schema</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="manifest__list_8h.html#a06efcb6319f35c7b0af2f629a9e7ae05">ManifestContent</a>&#160;</td>
          <td class="paramname"><em>content</em> = <code><a class="el" href="manifest__list_8h.html#a06efcb6319f35c7b0af2f629a9e7ae05a0ac87546e8b36fcb3034694d4d909ea3">ManifestContent::kData</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>first_row_id</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory function to create a writer for a manifest file based on format version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format_version</td><td>The format version (1, 2, 3, etc.). </td></tr>
    <tr><td class="paramname">snapshot_id</td><td>ID of the snapshot. </td></tr>
    <tr><td class="paramname">manifest_location</td><td>Path to the manifest file. </td></tr>
    <tr><td class="paramname">file_io</td><td>File IO implementation to use. </td></tr>
    <tr><td class="paramname">partition_spec</td><td>Partition spec for the manifest. </td></tr>
    <tr><td class="paramname">current_schema</td><td><a class="el" href="classiceberg_1_1Schema.html" title="A schema for a Table.">Schema</a> containing the source fields referenced by partition spec. </td></tr>
    <tr><td class="paramname">content</td><td>Content of the manifest (required for format_version &gt;= 2). </td></tr>
    <tr><td class="paramname">first_row_id</td><td>First row ID of the snapshot (required for format_version &gt;= 3). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Result containing the writer or an error. </dd></dl>

</div>
</div>
<a id="a5b403555d479afc633c183334349c071" name="a5b403555d479afc633c183334349c071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b403555d479afc633c183334349c071">&#9670;&#160;</a></span>metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; <a class="el" href="structiceberg_1_1Metrics.html">Metrics</a> &gt; iceberg::ManifestWriter::metrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the metrics of written manifest file. </p>
<dl class="section note"><dt>Note</dt><dd>Only valid after the file is closed. </dd></dl>

</div>
</div>
<a id="ad9fbeed661c60158774a86a8e90b36a5" name="ad9fbeed661c60158774a86a8e90b36a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9fbeed661c60158774a86a8e90b36a5">&#9670;&#160;</a></span>ToManifestFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Result&lt; <a class="el" href="structiceberg_1_1ManifestFile.html">ManifestFile</a> &gt; iceberg::ManifestWriter::ToManifestFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="structiceberg_1_1ManifestFile.html" title="Entry in a manifest list.">ManifestFile</a> object. </p>
<dl class="section note"><dt>Note</dt><dd>Only valid after the file is closed. </dd></dl>

</div>
</div>
<a id="a130bca392b9caca711486c56fae5bc9c" name="a130bca392b9caca711486c56fae5bc9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130bca392b9caca711486c56fae5bc9c">&#9670;&#160;</a></span>WriteAddedEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::ManifestWriter::WriteAddedEntry </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>data_sequence_number</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an added entry for a file with a specific sequence number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>an added data file </td></tr>
    <tr><td class="paramname">data_sequence_number</td><td>a data sequence number for the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status indicating success or failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The entry's snapshot ID will be this manifest's snapshot ID. The entry's data sequence number will be the provided data sequence number. The entry's file sequence number will be assigned at commit. </dd></dl>

</div>
</div>
<a id="a7077a6d0c534749950d1cc704e3baf63" name="a7077a6d0c534749950d1cc704e3baf63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7077a6d0c534749950d1cc704e3baf63">&#9670;&#160;</a></span>WriteDeletedEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::ManifestWriter::WriteDeletedEntry </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>data_sequence_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>file_sequence_number</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a delete entry for a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>a deleted data file </td></tr>
    <tr><td class="paramname">data_sequence_number</td><td>a data sequence number of the file (assigned when the file was added) </td></tr>
    <tr><td class="paramname">file_sequence_number</td><td>a file sequence number (assigned when the file was added) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status indicating success or failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The entry's snapshot ID will be this manifest's snapshot ID. However, the original data and file sequence numbers of the file must be preserved when the file is marked as deleted. </dd></dl>

</div>
</div>
<a id="ab5b7f3411b9e6e08d7961df4c03139a3" name="ab5b7f3411b9e6e08d7961df4c03139a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b7f3411b9e6e08d7961df4c03139a3">&#9670;&#160;</a></span>WriteEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::ManifestWriter::WriteEntry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structiceberg_1_1ManifestEntry.html">ManifestEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the entry that all its fields are populated correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>Manifest entry to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status indicating success or failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>All other write entry variants delegate to this method after populating the necessary fields. </dd></dl>

</div>
</div>
<a id="acaed786e94e14d1d0d605d93a0fc9b83" name="acaed786e94e14d1d0d605d93a0fc9b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaed786e94e14d1d0d605d93a0fc9b83">&#9670;&#160;</a></span>WriteExistingEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status iceberg::ManifestWriter::WriteExistingEntry </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structiceberg_1_1DataFile.html">DataFile</a> &gt;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>file_snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>data_sequence_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>file_sequence_number</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an existing entry for a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>an existing data file </td></tr>
    <tr><td class="paramname">file_snapshot_id</td><td>snapshot ID when the data file was added to the table </td></tr>
    <tr><td class="paramname">data_sequence_number</td><td>a data sequence number of the file (assigned when the file was added) </td></tr>
    <tr><td class="paramname">file_sequence_number</td><td>a file sequence number (assigned when the file was added) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status indicating success or failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The original data and file sequence numbers, snapshot ID, which were assigned at commit, must be preserved when adding an existing entry. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>iceberg/manifest/<a class="el" href="manifest__writer_8h_source.html">manifest_writer.h</a></li>
<li>iceberg/manifest/<b>manifest_writer.cc</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
